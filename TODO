TODO-list for kune -*- mode: org; -*-

#+SEQ_TODO: TODO danigb samer vjrj FEEDBACK VERIFY | FIXED CANCELED WONTFIX

* Intro
** Symbols
   <nick> or <n> == reported by / commented by
   nick == assigned to
** Notes
   Use org-mode in emacs to easy manage this file

* SHORT-TERM (URGENT)
** TODO <s> tag refactorization
   [Tag]  <-1--m->   [TagUserContent (fecha)]  <-m--1->  [Content]                             ^--m-------1-> [User]
   Think agout wikipedia suggestions:
   http://www.mediawiki.org/wiki/API
** TODO <v> User preferences storing
   (See also variables in 'Styling braimstorming')
   We need a way to store (in db) User preferences (like emite chat configurations) in a extensible way.
   Something similar to java.util.prefs.Preferences or Mozilla about:config
   http://java.sun.com/developer/technicalArticles/releases/preferences/
   "Because the Preferences API is back-end neutral, you need not care whether the data are stored in files, database tables, or a platform-specific storage such as the Windows Registry. In fact, you don't want to care, because the situation may differ across varying platforms, or even across implementations on the same platform."
   More links:
   http://stackoverflow.com/questions/194349/what-is-the-proper-way-to-store-apps-conf-data-in-java
** vjrj Styling braimstorming
*** layouts
    - name :: greenforrest
    - screenshot :: images/greenforrest.png
    - varsgroupname :: layout.greenforrest
*** html+css+variables
**** css:

**** variables
     prefgroups
     - id :: 1
     - groupname :: emite.ui

     pref
     - id :: 1
     - group :: 1
     - name :: usercolor
     - description :: (optional) The color of the self alias color in chat conversations
     - vartype :: (int/boolean/String) red
     - defvalue :: ?? #000000

     userpref
     - id :: 1
     - userid :: 123
     - varid :: 1
     - group :: 1
     - name :: usercolor
     - status :: (setted|def) setted
     - value :: red
*** logos
*** caching
** danigb,vjrj URLs public/workspace braimstorming
   Nowadays:
   - ws: #group.tool.container.content
   - public (prov): /public/group.tool.container.content.
     We are looking to: http://group.kunedomain/p/tool.container.content/
   The problem: When an agent (such as a Web browser) requests a resource from a Web server, the agent sends the URI to the server, but does not send the #fragment.
   This is good for gwt (history support), but if we use the same url #a.b.c.d in public these links don't work.
   Posible solutions:
   1) use also of #a.b.c.d in public and do a gwt small module to make a redirect in the client to /public/
      Problem: this kind of links are not followed by spiders.
   2) replace #a.b.c.d with /p/a.b.c.d before show in public
      Problem: parse/replace/cache every doc showed in public
   Other problems:
   - how to support #fragments different than #a.b.c.d in contents in ws
     Solution: Maybe use <div id> and ensure visible that id
   - how to point to some content comment, or to some revision (for example)
     examples: #a.b.c.d-c4 for a comment of #a.b.c.d-r2 for a rev.
     Solution: to extend StateToken
   - Readable URLs
     Posible solution: use #a.b.c.d-ln-some-readable-title /p/a.b.c.d-ln-some-readable-title and parse only a.b.c.d
     This can be abused if we don't check and store the readable title: #a.b.c.d-some-nasty-text
   Some links:
   http://code.google.com/p/google-web-toolkit-doc-1-5/wiki/DevGuideHistory
   http://en.wikipedia.org/wiki/Fragment_identifier
   http://www.w3.org/DesignIssues/Fragment.html
** vjrj <v> better RTE
*** Functionality
    + We can have several RTE in use 
      - with different menus (File/Blog ...)
      - with different save/close actions
      - with different capabilities depending on:
        - the browser
        - the functionality
    + bidi support
    + shortcuts (for insert comments, italic, bold, and soon).
    + Add new capabilities (based on InsertHTML):
      - Insert tables
      - Insert special chars (for table or from unicode).
      - youtube videos
    + Edit HTML
    + Easy extensible for new actions
    + Try to be a reusable module (like emite)
    + autosave on/off
*** Charactericts 
    + Builded over gwt RTE (or any similar RTE) and based in gwt mouse/keyboard events
*** Menus
**** File
     + Save (Ctrl+S) [Always active?]
     + Save as new copy ...
     + Rename... (F2)
     + Delete...
**** Edit
     + Undo (Ctrl+Z)
     + Redo (Ctrl+Y)
     ---------------
     + Copy
     + Cut
     + Paste
     ---------------
     + Select all (Ctrl+A)
     + Edit HTML
**** Insert
     + Picture...
     + Link... (Ctrl+K)
     + Table...
     ----------------
     + Comment...(Ctrl+M)
     + Special char
     + Horizontal line
     + Page break (for printing)
*** Buttons
*** Elements
    + A register of actions (menus/buttons)
    + Every RTE instance selects the actions to use
    + Two topbars, one for menus, other for buttons, font/color selections      
*** Links
   http://www.ongwt.com/post/2009/01/08/XWiki-:-Wysiwyg-editor-based-on-GWT
   http://msdn.microsoft.com/archive/default.asp?url=/archive/en-us/samples/internet/ie55/EditRegions/default.asp
   http://mozilla.org/editor/midasdemo/
** vjrj <v> rails group-shortname.kune-site-domain/tool-name/folder-id/doc-id routing, maybe use:
   http://agilewebdevelopment.com/plugins/request_routing
   http://wiki.rubyonrails.org/rails/pages/Request+Routing
   http://svn.danwebb.net/external/rails/plugins/request_routing/trunk/README
** vjrj <v> Duplicate Keys in group/user creation different exception
   2007-12-21 10:35:16,193 [btpool0-5] ERROR - Duplicate entry 'vjrj' for key 3
   2007-12-21 10:35:16,195 [btpool0-5] DEBUG - ContentManagerDefault.persist EXCEPTION => javax.persistence.EntityExistsException: org.hibernate.exception.ConstraintViolationException: could not insert: [org.ourproject.kune.platf.server.domain.Group]
   2007-12-21 10:35:16,196 [btpool0-5] DEBUG - ContentManagerDefault.persist EXCEPTION => javax.persistence.EntityExistsException: org.hibernate.exception.ConstraintViolationException: could not insert: [org.ourproject.kune.platf.server.domain.Group]
   2007-12-21 10:35:16,197 [btpool0-5] DEBUG - ContentManagerDefault.createContent EXCEPTION => javax.persistence.Entity
** vjrj <v> IconHyperlink.java and IconLabel.java to gwt1.5

* MID-TERM
** <s,v> Integrate recommendations/suggestions subsystem
*** Samer suggests to implement a CBR system for suggests :)
    http://en.wikipedia.org/wiki/Case-based_reasoning
    linked with
    http://www.mediawiki.org/wiki/API
*** links
    http://taste.sourceforge.net/
** <s> Bastien's extension to emite, for assemblies:
Possible extension of the Chat utility: make it a tool to take notes
during a meeting.   Something where someone can define topics, where
the logs can be exported in .odt (with user-defined sequences, maybe
corresponding to the topics...) -- I don't have a precise idea of what
I am talking about, but I'm sure there is something to do.
** vjrj <v> Login: Follow incubation recomendations. See:
   http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/e8e14b16e57b266f
** vjrj <v> kune debian package:
   Study fat jar + deb package:
   http://anydoby.com/fatjar/
   Currently we are testing this snapshot:
   http://mojo.codehaus.org/deb-maven-plugin/
   with: mvn package -Dmaven.test.skip=true
   generates a deb with big (and not very accute) dependencies:
   dpkg -X trunk/org.ourproject-kune-0.0.5-0.deb
   dpkg -I trunk/org.ourproject-kune-0.0.5-0.deb
   Other possibility:
   http://vafer.org/blog/20070918215154
   Related info:
   http://java.debian.net/building.html
** <v> implement pubsub in emite
   http://xmpp.org/extensions/attic/jep-0060-1.6.html
   see:  svn checkout svn://anonsvn.it.su.se/su-smack su-smack
** TODO <v> study different embeded video solutions
   - for ogg :: http://www.flumotion.net/cortado/
   - for mp3+ogg :: flowplayer
** TODO <d> Inform to translators when original content changes
** TODO <v> extjs i18n
   http://extjs.com/deploy/ext/examples/locale/dutch-form.js
   http://groups.google.com/group/gwt-ext/browse_thread/thread/ebec316effea2b80/bfbdadc7239b4e5d?lnk=gst&q=i18n#bfbdadc7239b4e5d
   http://extjs.com/forum/showthread.php?t=20160&highlight=localization
** TODO <v> Restarting server don't affect client session
   Now there are problems if client was started before server, when server restart (session persist)
** TODO <v> Interceptors also useful for translation of db fields
** vjrj <d> click in new group, reload sn innecessary
** TODO <v> Injection problem
2008-01-03 23:17:57.575::WARN:  failed rack
java.lang.RuntimeException: java.lang.RuntimeException: Please apply com.google.inject.servlet.GuiceFilter to any request which uses servlet scopes.
        at org.ourproject.kune.platf.server.KunePersistenceService.start(KunePersistenceService.java:41)
        at org.ourproject.kune.platf.server.KunePersistenceService$$EnhancerByGuice$$5d1347d1.CGLIB$start$0(<generated>)
        at org.ourproject.kune.platf.server.KunePersistenceService$$EnhancerByGuice$$5d1347d1$$FastClassByGuice$$ad60fdce.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.KunePersistenceService$$EnhancerByGuice$$5d1347d1.start(<generated>)
        at org.ourproject.kune.app.server.KuneContainerListener.start(KuneContainerListener.java:57)
        at org.ourproject.kune.app.server.KuneContainerListener$$EnhancerByGuice$$d39ac79e.CGLIB$start$0(<generated>)
        at org.ourproject.kune.app.server.KuneContainerListener$$EnhancerByGuice$$d39ac79e$$FastClassByGuice$$7d4658ed.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.app.server.KuneContainerListener$$EnhancerByGuice$$d39ac79e.start(<generated>)
        at org.ourproject.kune.rack.RackServletFilter.startContainerListeners(RackServletFilter.java:102)
        at org.ourproject.kune.rack.RackServletFilter.init(RackServletFilter.java:90)
        at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:99)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:589)
        at org.mortbay.jetty.servlet.Context.startContext(Context.java:139)
        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1218)
        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:500)
        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:147)
        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:161)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:147)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:117)
        at org.mortbay.jetty.Server.doStart(Server.java:217)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)
        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:345)
        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:286)
        at org.mortbay.jetty.plugin.AbstractJettyRunMojo.execute(AbstractJettyRunMojo.java:204)
        at org.mortbay.jetty.plugin.Jetty6RunMojo.execute(Jetty6RunMojo.java:183)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:443)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:539)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:493)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:463)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:311)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:278)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:143)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:334)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:125)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:272)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:615)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: java.lang.RuntimeException: Please apply com.google.inject.servlet.GuiceFilter to any request which uses servlet scopes.
        at com.google.inject.servlet.GuiceFilter.getContext(GuiceFilter.java:63)
        at com.google.inject.servlet.GuiceFilter.getRequest(GuiceFilter.java:53)
        at com.google.inject.servlet.ServletScopes$2$1.get(ServletScopes.java:70)
        at com.google.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
        at com.google.inject.InjectorImpl$9$1.call(InjectorImpl.java:708)
        at com.google.inject.InjectorImpl.callInContext(InjectorImpl.java:747)
        at com.google.inject.InjectorImpl$9.get(InjectorImpl.java:702)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault.t(I18nTranslationServiceDefault.java:39)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault$$EnhancerByGuice$$e355e041.CGLIB$t$0(<generated>)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault$$EnhancerByGuice$$e355e041$$FastClassByGuice$$11ec050b.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault$$EnhancerByGuice$$e355e041.t(<generated>)
        at org.ourproject.kune.docs.server.DocumentServerTool.initGroup(DocumentServerTool.java:81)
        at org.ourproject.kune.docs.server.DocumentServerTool$$EnhancerByGuice$$a36c3df4.CGLIB$initGroup$4(<generated>)
        at org.ourproject.kune.docs.server.DocumentServerTool$$EnhancerByGuice$$a36c3df4$$FastClassByGuice$$a9c1177c.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.docs.server.DocumentServerTool$$EnhancerByGuice$$a36c3df4.initGroup(<generated>)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault.initGroup(GroupManagerDefault.java:194)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault.createUserGroup(GroupManagerDefault.java:114)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault$$EnhancerByGuice$$984cc1be.CGLIB$createUserGroup$4(<generated>)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault$$EnhancerByGuice$$984cc1be$$FastClassByGuice$$63ba8c7d.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault$$EnhancerByGuice$$984cc1be.createUserGroup(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer.createDefUsersGroup(DatabaseInitializer.java:108)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer.initDatabase(DatabaseInitializer.java:83)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.CGLIB$initDatabase$1(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057$$FastClassByGuice$$8f733e39.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.wideplay.warp.jpa.JpaLocalTxnInterceptor.invoke(JpaLocalTxnInterceptor.java:29)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.initDatabase(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer.initConditional(DatabaseInitializer.java:75)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.CGLIB$initConditional$0(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057$$FastClassByGuice$$8f733e39.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.initConditional(<generated>)
        at org.ourproject.kune.platf.server.KunePersistenceService.start(KunePersistenceService.java:39)
        ... 58 more
2008-01-03 23:17:57.617::WARN:  Failed startup of context org.mortbay.jetty.webapp.WebAppContext@746e746e{/,/home/vjrj/proyectos/ourproject.org/kune/svn/trunk/src/main/webapp}
java.lang.RuntimeException: java.lang.RuntimeException: Please apply com.google.inject.servlet.GuiceFilter to any request which uses servlet scopes.
        at org.ourproject.kune.platf.server.KunePersistenceService.start(KunePersistenceService.java:41)
        at org.ourproject.kune.platf.server.KunePersistenceService$$EnhancerByGuice$$5d1347d1.CGLIB$start$0(<generated>)
        at org.ourproject.kune.platf.server.KunePersistenceService$$EnhancerByGuice$$5d1347d1$$FastClassByGuice$$ad60fdce.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.KunePersistenceService$$EnhancerByGuice$$5d1347d1.start(<generated>)
        at org.ourproject.kune.app.server.KuneContainerListener.start(KuneContainerListener.java:57)
        at org.ourproject.kune.app.server.KuneContainerListener$$EnhancerByGuice$$d39ac79e.CGLIB$start$0(<generated>)
        at org.ourproject.kune.app.server.KuneContainerListener$$EnhancerByGuice$$d39ac79e$$FastClassByGuice$$7d4658ed.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.app.server.KuneContainerListener$$EnhancerByGuice$$d39ac79e.start(<generated>)
        at org.ourproject.kune.rack.RackServletFilter.startContainerListeners(RackServletFilter.java:102)
        at org.ourproject.kune.rack.RackServletFilter.init(RackServletFilter.java:90)
        at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:99)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:589)
        at org.mortbay.jetty.servlet.Context.startContext(Context.java:139)
        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1218)
        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:500)
        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:147)
        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:161)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:147)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:117)
        at org.mortbay.jetty.Server.doStart(Server.java:217)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)
        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:345)
        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:286)
        at org.mortbay.jetty.plugin.AbstractJettyRunMojo.execute(AbstractJettyRunMojo.java:204)
        at org.mortbay.jetty.plugin.Jetty6RunMojo.execute(Jetty6RunMojo.java:183)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:443)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:539)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:493)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:463)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:311)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:278)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:143)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:334)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:125)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:272)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:615)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: java.lang.RuntimeException: Please apply com.google.inject.servlet.GuiceFilter to any request which uses servlet scopes.
        at com.google.inject.servlet.GuiceFilter.getContext(GuiceFilter.java:63)
        at com.google.inject.servlet.GuiceFilter.getRequest(GuiceFilter.java:53)
        at com.google.inject.servlet.ServletScopes$2$1.get(ServletScopes.java:70)
        at com.google.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
        at com.google.inject.InjectorImpl$9$1.call(InjectorImpl.java:708)
        at com.google.inject.InjectorImpl.callInContext(InjectorImpl.java:747)
        at com.google.inject.InjectorImpl$9.get(InjectorImpl.java:702)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault.t(I18nTranslationServiceDefault.java:39)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault$$EnhancerByGuice$$e355e041.CGLIB$t$0(<generated>)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault$$EnhancerByGuice$$e355e041$$FastClassByGuice$$11ec050b.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.i18n.I18nTranslationServiceDefault$$EnhancerByGuice$$e355e041.t(<generated>)
        at org.ourproject.kune.docs.server.DocumentServerTool.initGroup(DocumentServerTool.java:81)
        at org.ourproject.kune.docs.server.DocumentServerTool$$EnhancerByGuice$$a36c3df4.CGLIB$initGroup$4(<generated>)
        at org.ourproject.kune.docs.server.DocumentServerTool$$EnhancerByGuice$$a36c3df4$$FastClassByGuice$$a9c1177c.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.docs.server.DocumentServerTool$$EnhancerByGuice$$a36c3df4.initGroup(<generated>)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault.initGroup(GroupManagerDefault.java:194)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault.createUserGroup(GroupManagerDefault.java:114)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault$$EnhancerByGuice$$984cc1be.CGLIB$createUserGroup$4(<generated>)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault$$EnhancerByGuice$$984cc1be$$FastClassByGuice$$63ba8c7d.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.manager.impl.GroupManagerDefault$$EnhancerByGuice$$984cc1be.createUserGroup(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer.createDefUsersGroup(DatabaseInitializer.java:108)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer.initDatabase(DatabaseInitializer.java:83)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.CGLIB$initDatabase$1(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057$$FastClassByGuice$$8f733e39.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.wideplay.warp.jpa.JpaLocalTxnInterceptor.invoke(JpaLocalTxnInterceptor.java:29)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.initDatabase(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer.initConditional(DatabaseInitializer.java:75)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.CGLIB$initConditional$0(<generated>)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057$$FastClassByGuice$$8f733e39.invoke(<generated>)
        at com.google.inject.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:187)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at org.ourproject.kune.platf.server.LoggerMethodInterceptor.invoke(LoggerMethodInterceptor.java:44)
        at com.google.inject.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:66)
        at com.google.inject.InterceptorStackCallback.intercept(InterceptorStackCallback.java:45)
        at org.ourproject.kune.platf.server.init.DatabaseInitializer$$EnhancerByGuice$$314ec057.initConditional(<generated>)
        at org.ourproject.kune.platf.server.KunePersistenceService.start(KunePersistenceService.java:39)
        ... 58 more
2008-01-03 23:17:57.697::INFO:  Started SelectChannelConnector@0.0.0.0:8080
** TODO <v> RTL (BiDi support). The problem will be extjs (gwt support bidi in 1.5):
   http://extjs.com/forum/showthread.php?t=9659
   http://cssjanus.commoner.com/
** TODO <v> Study the possibility to include in SN something similar to "Member since <date>".
** TODO <v> think about more secure login, SRP protocol thread, and:
http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/97623347b448e16e
http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/367bdb56dd4e5ad1
** TODO <v> Build better our maven repo
  http://maven.apache.org/guides/mini/guide-central-repository-upload.html
** TODO <v> for dev, study jetty hot deploy (manual mode in >=7.0.0).
** TODO <v> Use of maven-exec plugin to exec scripts (to css tidy, etcetera)
  http://mojo.codehaus.org/exec-maven-plugin/introduction.html
** TODO <v> Strip html better in RTE, I18nTranslator, Chat
   http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/b4a27c80f50581cc
** TODO <v> See css utilities in http://code.google.com/p/cobogw/
** TODO <v> kune & accessibility
   http://googlewebtoolkit.blogspot.com/2008/09/built-in-accessibility-in-gwt-15.html
   http://extjs.com/forum/showthread.php?t=12999
** FIXED <s,v> Add in license choose a free/non-free indicator [3]
** FIXED <v> browser font size (different from default) issues (scroll in dialogs, buttons background, etc)
   CLOSED: [2009-01-03 s√°b 01:37]

** W3C Range support in RTE (selection)
   As an intro:
   http://www.quirksmode.org/dom/range_intro.html
   http://maven.xwiki.org/site/xwiki-web/xwiki-web-wysiwyg/apidocs/com/xpn/xwiki/wysiwyg/client/dom/internal/AbstractRange.html
   other links:
   http://groups.google.com/group/rocket-gwt/browse_frm/thread/e56540d4168479c0/d25dca75958ba923?hl=en-GB&lnk=gst&q=Range#d25dca75958ba923
   http://code.google.com/p/gwt-html-editor/source/browse/branches/gwt1.4/src/com/gc/gwt/wysiwyg/public/fckeditor/editor/_source/classes/fckdomrange_ie.js?r=81
* LONG-TERM
** <s> integrate some blog/wiki converter:
   http://code.google.com/p/google-blog-converters-appengine/
   http://toolserver.org/~merphant/wiki2html/
* IDEAS
** <d> Try to find a way dozer maps directly without use getters/setters (less js code and better performance)
 
